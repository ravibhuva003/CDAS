{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/RAVI BHUVA/Desktop/city-analysis-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/RAVI BHUVA/Desktop/city-analysis-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/RAVI BHUVA/Desktop/city-analysis-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{auth}from'../firebase';import{createUserWithEmailAndPassword}from'firebase/auth';import{doc,setDoc}from\"firebase/firestore\";import{db}from'../firebase';import\"../css/placeholder1.css\";import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserId=\"\";export default function SignUp(props){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),FName=_useState6[0],setFName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),LName=_useState8[0],setLName=_useState8[1];var docData={email:Email,password:Password,fname:FName,lname:LName};function insertData(_x){return _insertData.apply(this,arguments);}function _insertData(){_insertData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user_id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return setDoc(doc(db,\"users\",user_id),docData);case 2:console.log(\"data inserted in db\");case 3:case\"end\":return _context.stop();}},_callee);}));return _insertData.apply(this,arguments);}function getsubstring(err){return err.substring(5,err.length);}var handleSignUp=function handleSignUp(){createUserWithEmailAndPassword(auth,Email,Password).then(function(userCredential){var user=userCredential.user;UserId=user.uid;console.log(\"UserId:\",UserId);insertData(user.uid);alert(\"successfully created account\");}).catch(function(error){var errorCode=error.code;document.getElementById('liveAlertPlaceholder').innerHTML=\"<br/><div class=\\\"alert alert-success alert-dismissible text-dark text-center border-2 border-dark\\\" role=\\\"alert\\\">\".concat(getsubstring(errorCode),\"<button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"alert\\\" aria-label=\\\"Close\\\"></button></div>\");setTimeout(function(){document.getElementById('liveAlertPlaceholder').innerHTML=\"\";},5000);});};var check=function check(){if(docData.email===\"\"&&docData.password===\"\"){document.getElementById(\"new\").innerHTML=\"Enter Email and Password\";}else if(docData.email===\"\"){document.getElementById(\"new\").innerHTML=\"Enter Email\";}else if(docData.password===\"\"){document.getElementById(\"new\").innerHTML=\"Enter Password\";}else{handleSignUp();}};var pass=function pass(){if(auth.currentUser){navigate(\"/\");;}};function todo(){check();setTimeout(pass,3000);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container login-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"SignUp\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(props.mode===\"light\"?\"light1\":\"dark1\"),style:{background:\"\".concat(props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"),color:\"\".concat(props.mode===\"light\"?\"black\":\"white\")},id:\"exampleFormControlInput1\",placeholder:\"Enter Name\",onChange:function onChange(event){return setFName(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control \".concat(props.mode===\"light\"?\"light1\":\"dark1\"),style:{background:\"\".concat(props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"),color:\"\".concat(props.mode===\"light\"?\"black\":\"white\")},id:\"exampleFormControlInput2\",placeholder:\"Enter Name\",onChange:function onChange(event){return setLName(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:[\"Email address\",/*#__PURE__*/_jsx(\"b\",{className:\"text text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control \".concat(props.mode===\"light\"?\"light1\":\"dark1\"),style:{background:\"\".concat(props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"),color:\"\".concat(props.mode===\"light\"?\"black\":\"white\")},id:\"exampleFormControlInput3\",placeholder:\"Enter Email\",onChange:function onChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:[\"Password\",/*#__PURE__*/_jsx(\"b\",{className:\"text text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control \".concat(props.mode===\"light\"?\"light1\":\"dark1\"),style:{background:\"\".concat(props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"),color:\"\".concat(props.mode===\"light\"?\"black\":\"white\")},id:\"exampleFormControlInput4\",placeholder:\"Enter password\",onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text text-center text-danger fw-bold\",id:\"new\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:todo,children:\"SignUp\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})]})]});}","map":{"version":3,"names":["React","useState","auth","createUserWithEmailAndPassword","doc","setDoc","db","useNavigate","Link","UserId","SignUp","props","navigate","Email","setEmail","Password","setPassword","FName","setFName","LName","setLName","docData","email","password","fname","lname","insertData","user_id","console","log","getsubstring","err","substring","length","handleSignUp","then","userCredential","user","uid","alert","catch","error","errorCode","code","document","getElementById","innerHTML","setTimeout","check","pass","currentUser","todo","mode","background","color","event","target","value"],"sources":["C:/Users/RAVI BHUVA/Desktop/city-analysis-main/frontend/src/components/signup.js"],"sourcesContent":["import React,{useState} from 'react'\nimport {auth} from '../firebase'\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport {doc, setDoc} from \"firebase/firestore\"; \nimport {db} from '../firebase'\nimport \"../css/placeholder1.css\"\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nexport var UserId=\"\";\nexport default function SignUp(props) {\n  const navigate = useNavigate();\n    const [Email,setEmail]=useState(\"\")\n    const [Password,setPassword]=useState(\"\")\n    const [FName,setFName]=useState(\"\")\n    const [LName,setLName]=useState(\"\")\n    const docData = {\n      email:Email,\n      password: Password,\n      fname:FName,\n      lname:LName\n    };\n    async function insertData(user_id){\n      await setDoc(doc(db, \"users\",user_id), docData);\n      console.log(\"data inserted in db\");\n    }\n    function getsubstring(err)\n    {\n      return err.substring(5,err.length)\n    }\n    const handleSignUp=()=>{\n      createUserWithEmailAndPassword(auth,Email,Password)\n          .then((userCredential)=>{\n              const user=userCredential.user;\n              UserId=user.uid\n              console.log(\"UserId:\",UserId)\n              insertData(user.uid)\n              alert(\"successfully created account\");\n          })\n          .catch((error) => {\n            const errorCode = error.code;\n            document.getElementById('liveAlertPlaceholder').innerHTML = `<br/><div class=\"alert alert-success alert-dismissible text-dark text-center border-2 border-dark\" role=\"alert\">${getsubstring(errorCode)}<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button></div>`;\n        setTimeout(() => {\n          document.getElementById('liveAlertPlaceholder').innerHTML = \"\";\n        }, 5000);\n          });\n    }\n\n    const check=()=>{\n      \n      if(docData.email===\"\" && docData.password===\"\")\n      {\n        document.getElementById(\"new\").innerHTML=\"Enter Email and Password\"\n      }\n      else if(docData.email===\"\")\n      {\n        document.getElementById(\"new\").innerHTML=\"Enter Email\"\n      }\n      else if(docData.password===\"\")\n      {\n        document.getElementById(\"new\").innerHTML=\"Enter Password\"\n      }\n      else{\n        handleSignUp();\n      }\n    }\n    const pass=()=>{\n      if(auth.currentUser){\n        navigate(\"/\");;\n    }\n    } \n    function todo(){\n       check();\n       setTimeout(pass, 3000)\n      }\n  return (\n    <div>\n      <br/>\n\n      <div className=\"container login-page\">\n        <div className=\"text-center\"><h2>SignUp</h2></div>\n        <div className=\"my-3\">\n        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">First Name</label>\n        <input type=\"text\" className={`form-control ${props.mode===\"light\"?\"light1\":\"dark1\"}`} style={{background:`${props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"}`,color:`${props.mode===\"light\"?\"black\":\"white\"}`}} id=\"exampleFormControlInput1\" placeholder=\"Enter Name\" onChange={(event)=>setFName(event.target.value)}/>\n        </div>\n        <div className=\"my-3\">\n        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">Last Name</label>\n        <input type=\"text\" className={`form-control ${props.mode===\"light\"?\"light1\":\"dark1\"}`} style={{background:`${props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"}`,color:`${props.mode===\"light\"?\"black\":\"white\"}`}} id=\"exampleFormControlInput2\" placeholder=\"Enter Name\" onChange={(event)=>setLName(event.target.value)}/>\n        </div>\n        <div className=\"my-3\">\n        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">Email address<b className='text text-danger'>*</b></label>\n        <input type=\"email\" className={`form-control ${props.mode===\"light\"?\"light1\":\"dark1\"}`} style={{background:`${props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"}`,color:`${props.mode===\"light\"?\"black\":\"white\"}`}} id=\"exampleFormControlInput3\" placeholder=\"Enter Email\" onChange={(event)=>setEmail(event.target.value)}/>\n        </div>\n        <div className=\"my-3\">\n        <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">Password<b className='text text-danger'>*</b></label>\n        <input type=\"password\" className={`form-control ${props.mode===\"light\"?\"light1\":\"dark1\"}`} style={{background:`${props.mode===\"light\"?\"white\":\"rgb(24,24,24)\"}`,color:`${props.mode===\"light\"?\"black\":\"white\"}`}} id=\"exampleFormControlInput4\" placeholder=\"Enter password\" onChange={(event)=>setPassword(event.target.value)}/>\n        </div>\n          <div className=\"text text-center text-danger fw-bold\" id=\"new\"></div>\n        <div className=\"d-flex justify-content-center\">\n        <button className=\"btn btn-primary\" onClick={todo}>SignUp</button>\n        </div>\n        <div>\n        <div>Already have an account? <Link to=\"/login\">Login</Link></div>\n      </div>\n      </div>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}